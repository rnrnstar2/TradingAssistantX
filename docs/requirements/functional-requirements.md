# 機能要件定義

## 主要機能（MVP範囲）

### ポジション管理機能
- **口座管理**: MT4/MT5の複数口座情報とクレジット（ボーナス）管理（管理画面から作成）
- **ポジション管理**: エントリー・決済・トレール設定を個別管理（全て管理画面から作成）
- **両建て戦略実行**: 人間が判断・設定した両建て戦略に基づくポジション実行

### 自動実行機能
- **トレーリングストップ**: トレール設定を持つポジションが独立してアクション実行
- **ロスカット対応**: ポジションのトレール設定からトリガーされる自動アクション実行
- **リアルタイム監視**: ポジション状態とアクション実行状況のモニタリング

### 制約機能
- **シンプルな実行判定**: 1ユーザー1PC制約による確実な処理
- **人間主導**: システムは設定された内容を正確に実行し、その実行状況を可視化

## 実行パターン

### エントリー実行パターン
- 管理画面で設定されたポジション計画を正確に実行
- 複数口座での協調エントリー
- エラー時の適切なフィードバック

### 決済実行パターン
- トレール条件達成時の自動決済
- 人間が指定した決済タイミングでの実行
- 複数ポジションの同期決済

### ロスカット対応パターン
- 設定されたトレール条件に基づく自動実行
- 緊急時の強制決済機能
- データの整合性保護

## システムの責任範囲

### システムが行うこと
1. **実行支援**: 人間が設定したポジション計画の正確な実行
2. **状況表示**: 現在のポジション状況、ネットポジション、クレジット活用状況の可視化
3. **トレール機能**: 設定されたトレール条件に基づく自動実行（条件は人間が設定）
4. **連携機能**: 複数口座間での協調的な実行（実行内容は人間が事前設定）

### システムが行わないこと
- 両建て戦略の自動立案
- ポジションの自動組み合わせ判断
- 市場状況に基づく自動判断
- 複雑な分析・統計機能