# Manager向け イシュー駆動開発ガイド

## 🎯 概要

Managerとしてイシュー駆動開発を効果的に推進するための実践ガイドです。

## 📋 Manager特有の責務

### 1. イシューの設計と作成

#### イシュー作成前のチェックリスト
```markdown
- [ ] MVP制約に準拠しているか
- [ ] 適切な粒度（2-8時間で完了）か
- [ ] 依存関係が明確か
- [ ] 影響ファイルを特定できているか
- [ ] Worker向けの明確な指示を書けるか
```

#### 効果的なイシュー記述
```markdown
## Issue #123: ユーザー認証APIの実装

### 背景
現在のシステムには認証機能がなく、セキュリティ上の課題がある。
MVP原則に従い、最小限の認証機能を実装する。

### MVP制約
✅ 実装する:
- 基本的なJWT認証
- ログイン/ログアウトAPI
- 簡単なユーザー検証

❌ 実装しない:
- OAuth連携
- 二要素認証
- パスワード強度チェック
- アカウントロック機能

### 技術詳細
- Express.jsミドルウェアとして実装
- bcryptでパスワードハッシュ化
- jsonwebtokenでトークン生成

### 完了条件
- [ ] POST /api/auth/login 実装
- [ ] POST /api/auth/logout 実装  
- [ ] 認証ミドルウェア作成
- [ ] 基本的なテスト作成
```

### 2. 指示書の作成

#### テンプレート
```markdown
# TASK-123-user-auth.md

## タスク概要
Issue #123 に基づくユーザー認証APIの実装

## MVP制約（重要）
[イシューから転記]

## 実装詳細

### 1. ファイル構成
```
packages/backend/src/
├── middleware/
│   └── auth.ts         # 新規作成
├── routes/
│   └── auth.ts         # 新規作成
└── services/
    └── auth.service.ts # 新規作成
```

### 2. 実装順序
1. auth.service.ts - 認証ロジック
2. auth.ts (routes) - APIエンドポイント
3. auth.ts (middleware) - 認証ミドルウェア

### 3. コード例
[具体的な実装例を提供]

## 品質基準
- TypeScript strictモード準拠
- ESLint警告ゼロ
- 基本的なユニットテスト

## 注意事項
- セキュリティを考慮した実装
- エラーメッセージは最小限の情報のみ
```

### 3. 並列開発の調整

#### 依存関係マトリックス
```markdown
| イシュー | 依存元 | 依存先 | 並列可能 |
|---------|--------|--------|----------|
| #201 DB設計 | - | #202, #203 | - |
| #202 API | #201 | #204 | #203と並列可 |
| #203 UI | #201 | #204 | #202と並列可 |
| #204 統合 | #202, #203 | - | - |
```

#### マージ順序の決定
```mermaid
graph LR
    A[#201 マージ] --> B[#202, #203 並列マージ]
    B --> C[#204 最終統合]
```

### 4. 進捗管理とレビュー

#### デイリーチェック
```bash
# 進行中のイシューブランチ確認
git branch -r | grep issue-

# 各ブランチの進捗確認
gh pr list --state open

# ブロッカーの確認
gh issue list --label blocked
```

#### 週次レビュー項目
- コンフリクト発生率
- 平均サイクルタイム
- 並列度（同時進行イシュー数）
- MVP逸脱の有無

## 🛠️ 実践的なワークフロー

### 1. 朝のルーティン

```bash
# 1. 新規イシューの確認
gh issue list --state open --assignee ""

# 2. 進行中タスクの状況確認
gh pr list --state open

# 3. マージ可能なPRの処理
gh pr list --state open --label "ready-to-merge"
```

### 2. イシュー作成フロー

```bash
# 1. イシューテンプレートで作成
gh issue create --template development-task.yml

# 2. ラベル付け
gh issue edit 123 --add-label "priority:high,scope:backend"

# 3. 担当者アサイン
gh issue edit 123 --assignee @worker1
```

### 3. コンフリクト予防

- 共通設定ファイルの変更を最小化
- 新機能の設定は環境変数で分離
- インターフェース層での依存関係管理


## 🚨 トラブル対応

### よくある問題と対処

1. **依存関係の循環**
```
問題: A→B→C→A の循環依存
対処: イシューを再設計して依存を解消
```

2. **長期化するイシュー**
```
問題: 1週間以上オープンのイシュー
対処: 
- イシューを分割
- ブロッカーの特定と解消
- リソースの再配分
```

3. **頻繁なコンフリクト**
```
問題: 同じファイルで頻繁にコンフリクト
対処:
- ファイル分割の検討
- インターフェース層の導入
- 編集ルールの策定
```

## 💡 ベストプラクティス

### 1. イシュー設計
- 1イシュー = 1機能（単一責任）
- 明確な完了条件
- テスト可能な要件

### 2. コミュニケーション
- 毎日の進捗確認
- ブロッカーの早期共有
- 非同期コミュニケーションの活用

### 3. 品質管理
- PRテンプレートの活用
- 自動チェックの設定
- コードレビューの徹底

## 📚 参考資料

- [イシュー駆動開発クイックスタート](../guides/issue-driven-development/quick-start.md)
- [ベストプラクティス](../guides/issue-driven-development/best-practices.md)
- [トラブルシューティング](../guides/issue-driven-development/troubleshooting.md)

## 🎓 チェックリスト

Manager として以下を実践できているか：

- [ ] MVP原則に基づいたイシュー設計
- [ ] 明確で実行可能な指示書作成
- [ ] 効果的な並列開発の推進
- [ ] 適切な進捗管理とレビュー
- [ ] 問題の早期発見と対処

---

**記憶すべきこと**: Managerは実装者ではなく指揮者です。Worker が効率的に価値を創造できる環境を整えることが最重要です。