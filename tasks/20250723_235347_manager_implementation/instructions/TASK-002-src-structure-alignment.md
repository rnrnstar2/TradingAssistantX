# TASK-002: srcæ§‹é€ REQUIREMENTS.mdé©åˆå®Ÿè£…

## ğŸ¯ å®Ÿè£…ç›®æ¨™

ç¾åœ¨ã®srcæ§‹é€ ã‚’REQUIREMENTS.mdã®ã€Œ19ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»6ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã€ã«å®Œå…¨é©åˆã•ã›ã‚‹

## ğŸ“‹ å®Ÿè£…è©³ç´°

### 1. **ä¸è¶³ãƒ•ã‚¡ã‚¤ãƒ«å®Ÿè£…**

#### `src/scheduler/main-loop.ts` ä½œæˆ
**ç›®çš„**: ãƒ¡ã‚¤ãƒ³å®Ÿè¡Œãƒ«ãƒ¼ãƒ—çµ±åˆ
```typescript
interface MainLoopConfig {
  intervalMs: number; // 30åˆ†é–“éš” = 1800000ms
  claudeDecisionEngine: ClaudeDecisionEngine;
  kaitoActionExecutor: KaitoActionExecutor;
  dataManager: DataManager;
}

class MainLoop {
  // 30åˆ†é–“éš”å®Ÿè¡Œåˆ¶å¾¡
  // Claudeåˆ¤æ–­â†’KaitoAPIå®Ÿè¡Œâ†’çµæœè¨˜éŒ²
}
```

#### `src/shared/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ•´å‚™
**ä½œæˆãƒ•ã‚¡ã‚¤ãƒ«**:
- `types.ts` - å‹å®šç¾©çµ±åˆ
- `config.ts` - è¨­å®šç®¡ç†
- `logger.ts` - ãƒ­ã‚°ç®¡ç†

#### `src/main.ts` ç§»å‹•ãƒ»çµ±åˆ
**å¯¾è±¡**: `src/scripts/main.ts` â†’ `src/main.ts`
**ç›®çš„**: ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆçµ±ä¸€

### 2. **æ—¢å­˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ•´ç†**

#### `src/core/` çµ±åˆåˆ¤æ–­
**ç¾åœ¨ã®å†…å®¹**:
- `claude-autonomous-agent.ts`
- `decision-engine.ts`
- `loop-manager.ts`

**å®Ÿè£…æ–¹é‡**:
- `decision-engine.ts` â†’ `src/claude/decision-engine.ts`ã«çµ±åˆ
- `loop-manager.ts` â†’ `src/scheduler/main-loop.ts`ã«çµ±åˆ
- `claude-autonomous-agent.ts` â†’ æ©Ÿèƒ½ã‚’é©åˆ‡ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«åˆ†æ•£

#### `src/services/` çµ±åˆåˆ¤æ–­
**ç¾åœ¨ã®å†…å®¹**:
- `content-creator.ts` â†’ `src/claude/content-generator.ts`ã¨çµ±åˆæ¤œè¨
- `kaito-api-manager.ts` â†’ `src/kaito-api/client.ts`ã¨çµ±åˆæ¤œè¨
- `performance-analyzer.ts` â†’ å°†æ¥æ‹¡å¼µã¨ã—ã¦ä¿ç•™
- `x-poster.ts` â†’ `src/kaito-api/action-executor.ts`ã¨çµ±åˆæ¤œè¨

## ğŸ¯ **REQUIREMENTS.mdç›®æ¨™æ§‹é€ **

```
src/ (19ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»6ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª)
â”œâ”€â”€ claude/ (3ãƒ•ã‚¡ã‚¤ãƒ«)
â”‚   â”œâ”€â”€ decision-engine.ts
â”‚   â”œâ”€â”€ content-generator.ts
â”‚   â””â”€â”€ post-analyzer.ts
â”œâ”€â”€ kaito-api/ (3ãƒ•ã‚¡ã‚¤ãƒ«)
â”‚   â”œâ”€â”€ client.ts
â”‚   â”œâ”€â”€ search-engine.ts
â”‚   â””â”€â”€ action-executor.ts
â”œâ”€â”€ scheduler/ (2ãƒ•ã‚¡ã‚¤ãƒ«)
â”‚   â”œâ”€â”€ core-scheduler.ts
â”‚   â””â”€â”€ main-loop.ts â†æ–°è¦ä½œæˆ
â”œâ”€â”€ data/ (8ãƒ•ã‚¡ã‚¤ãƒ«)
â”‚   â”œâ”€â”€ data-manager.ts
â”‚   â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ learning/
â”‚   â””â”€â”€ context/
â”œâ”€â”€ shared/ (3ãƒ•ã‚¡ã‚¤ãƒ«)
â”‚   â”œâ”€â”€ types.ts â†æ–°è¦ä½œæˆ
â”‚   â”œâ”€â”€ config.ts â†æ–°è¦ä½œæˆ
â”‚   â””â”€â”€ logger.ts â†æ–°è¦ä½œæˆ
â””â”€â”€ main.ts (1ãƒ•ã‚¡ã‚¤ãƒ«) â†ç§»å‹•ãƒ»çµ±åˆ
```

## ğŸš« **MVPåˆ¶ç´„äº‹é …**

### åˆ¶é™äº‹é …
- **æ©Ÿèƒ½å‰Šé™¤ç¦æ­¢**: æ—¢å­˜å‹•ä½œæ©Ÿèƒ½ã‚’æãªã‚ãªã„
- **è¤‡é›‘ãªçµ±åˆå›é¿**: ã‚·ãƒ³ãƒ—ãƒ«ãªç§»å‹•ãƒ»çµ±åˆã®ã¿
- **éå‰°è¨­è¨ˆç¦æ­¢**: å°†æ¥æ‹¡å¼µã¯è€ƒæ…®ã—ãªã„

### å¿…é ˆäº‹é …
- **å‹•ä½œç¶™ç¶šæ€§**: æ—¢å­˜ã®`pnpm dev`, `pnpm start`å‹•ä½œç¶­æŒ
- **å‹å®‰å…¨æ€§**: TypeScript strictç¶­æŒ
- **ä¾å­˜é–¢ä¿‚ä¿æŒ**: ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆé–¢ä¿‚ç¶­æŒ

## ğŸ“‚ **å‡ºåŠ›ç®¡ç†**

### å‡ºåŠ›å…ˆåˆ¶é™
- **ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰**: `src/`é…ä¸‹ã®ã¿
- **ç§»å‹•ãƒ»çµ±åˆ**: æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã®é©åˆ‡ãªç§»å‹•ãƒ»çµ±åˆ
- **å‰Šé™¤åˆ¤æ–­**: ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®å®‰å…¨ãªå‰Šé™¤

### ç¦æ­¢äº‹é …
- **ãƒ‡ãƒ¼ã‚¿ç ´å£Š**: æ—¢å­˜æ©Ÿèƒ½ãƒ»ãƒ‡ãƒ¼ã‚¿ã®ç ´å£Š
- **ç„¡è¨ˆç”»å‰Šé™¤**: ä¾å­˜é–¢ä¿‚ã‚’è€ƒæ…®ã—ãªã„å‰Šé™¤

## âœ… **å®Ÿè£…å®Œäº†åŸºæº–**

### æ§‹é€ è¦ä»¶
- [ ] REQUIREMENTS.mdæ§‹é€ å®Œå…¨é©åˆï¼ˆ19ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»6ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰
- [ ] ä¸è¶³ãƒ•ã‚¡ã‚¤ãƒ«å…¨ä½œæˆï¼ˆmain-loop.ts, shared/é…ä¸‹3ãƒ•ã‚¡ã‚¤ãƒ«, main.tsï¼‰
- [ ] ä½™åˆ†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ•´ç†å®Œäº†ï¼ˆcore/, services/çµ±åˆï¼‰

### å‹•ä½œè¦ä»¶
- [ ] `pnpm dev`æ­£å¸¸å‹•ä½œ
- [ ] `pnpm start`æ­£å¸¸å‹•ä½œ
- [ ] 30åˆ†é–“éš”å®Ÿè¡Œæ©Ÿèƒ½ç¶­æŒ

### å“è³ªè¦ä»¶
- [ ] TypeScript stricté€šé
- [ ] npm run linté€šé
- [ ] npm run typechecké€šé
- [ ] æ—¢å­˜ãƒ†ã‚¹ãƒˆå…¨é€šé

## ğŸ¯ **å®Œäº†å ±å‘Šæ›¸**

å®Ÿè£…å®Œäº†å¾Œã€ä»¥ä¸‹ã‚’ä½œæˆï¼š
**å ±å‘Šæ›¸**: `tasks/20250723_235347_manager_implementation/reports/REPORT-002-src-structure-alignment.md`

**å ±å‘Šå†…å®¹**:
- æ§‹é€ å¤‰æ›´è©³ç´°ï¼ˆç§»å‹•ãƒ»çµ±åˆãƒ»æ–°è¦ä½œæˆä¸€è¦§ï¼‰
- REQUIREMENTS.mdé©åˆåº¦ç¢ºèª
- å‹•ä½œç¢ºèªçµæœ
- å“è³ªãƒã‚§ãƒƒã‚¯çµæœ

## âš ï¸ **å®Ÿè¡Œé †åº**

**ä¾å­˜é–¢ä¿‚**: TASK-001å®Œäº†å¾Œã«é–‹å§‹
**ç†ç”±**: kaito-apiæœ€é©åŒ–å¾Œã®æ§‹é€ ã‚’åŸºæº–ã¨ã—ãŸçµ±åˆãŒå¿…è¦

---

**ğŸ“ é‡è¦**: æ—¢å­˜å‹•ä½œã‚’ç ´å£Šã›ãšã€REQUIREMENTS.mdæ§‹é€ ã«æ®µéšçš„ã«é©åˆã•ã›ã‚‹æ…é‡ãªå®Ÿè£…ã‚’å®Ÿè¡Œ