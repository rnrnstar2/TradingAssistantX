# TASK-003: data/ディレクトリ構造とYAML設定完全性検証

## 🎯 タスク概要
data/ディレクトリの階層型データ管理構造の完全性と、各YAML設定ファイルの内容・構造を検証し、Claude Code SDK駆動の自律システムに必要な設定が適切に配置されているかを確認する。

## 📋 実行指示

### 1. data/config/ディレクトリ設定ファイル検証

#### 対象ファイル詳細分析
**`data/config/autonomous-config.yaml`** - 自律実行設定
- 実行スケジュール（1日15回）の設定
- 意思決定パラメータの設定
- Claude Code SDK向け実行設定
- エラーハンドリング・リトライ設定

**`data/config/posting-times.yaml`** - 投稿時間設定  
- 最適投稿時間（朝7-8時、昼12時、夕方18-19時、夜21-23時）
- タイムゾーン設定
- フォロワー活動時間との最適化設定

**`data/config/rss-sources.yaml`** - RSSフィード設定
- 固定URLフィード設定
- 動的クエリ（Google News検索連携）設定
- フィード優先度・重み設定
- 品質フィルター設定

**`data/config/brand-strategy.yaml`** - ブランド戦略設定
- 成長段階別ブランディング（0-1000, 1000-5000, 5000+フォロワー）
- テーマ配分率設定（単一特化→段階的拡張）
- トーン・文体設定
- ターゲット層定義

### 2. data/current/ディレクトリ（ホットデータ層）検証

#### 制限・要件確認
- **ファイル数制限**: 最大20ファイルまで
- **サイズ制限**: 最大1MB（ホットデータ）
- **保存期間**: 直近7日分のみ
- **自動移行**: 古いデータのlearning層への移行

#### 対象ファイル
**`data/current/today-posts.yaml`** - 本日の投稿記録
- 投稿済みコンテンツの記録
- エンゲージメント実績
- 投稿時間・効果測定データ

**`data/current/weekly-summary.yaml`** - 週次サマリー
- 週間パフォーマンス集計
- トレンド分析結果
- 次週戦略への示唆

#### 追加チェック項目
- current/内の全ファイル一覧化
- ファイル作成日時・サイズ確認
- 7日以上古いデータの残存確認
- 自動移行機能の動作状況

### 3. data/learning/ディレクトリ（ウォームデータ層）検証

#### 制限・要件確認
- **サイズ制限**: 最大10MB（ウォームデータ）
- **保存期間**: 90日分の分析済みインサイト
- **データ形式**: 分析済み結果のみ、生データは除外

#### 必須ファイル
**`data/learning/post-insights.yaml`** - 投稿分析結果（必須）
- 投稿パフォーマンス分析
- エンゲージメントパターン解析
- 最適化提案・学習結果

**`data/learning/engagement-patterns.yaml`** - エンゲージメントパターン（必須）
- フォロワー反応パターン
- 時間帯別エンゲージメント
- コンテンツタイプ別効果分析

#### 品質確認項目
- 分析結果の構造化・体系化度
- Claude Code SDKが活用可能な形式か
- 実行可能なインサイトの含有度

### 4. data/archives/ディレクトリ（コールドデータ層）検証

#### 構造要件確認
```
archives/
├── posts/                   # 全投稿の生データ
│   └── 2025-07/            # 月別ディレクトリ（YYYY-MM形式）
└── insights/               # 古い分析結果
    └── 2025-3/             # 分析結果アーカイブ
```

#### 検証項目
- **月別ディレクトリ**: YYYY-MM形式の命名規則遵守
- **データ完全性**: 投稿生データの永続保存状況
- **アーカイブ品質**: 古い分析結果の適切な保存
- **容量管理**: 無制限での適切な管理状況

## 🎯 YAML構造・内容品質評価

### 1. YAML構文・構造評価
- YAML記法の正確性（インデント、データ型）
- 必須フィールドの存在確認
- データ階層の論理性・一貫性

### 2. Claude Code SDK適合性評価
- 自律的意思決定に必要なパラメータの充足度
- 意思決定カタログとの整合性
- 動的戦略切替に対応可能な柔軟性

### 3. 設定値の妥当性評価
- 投稿時間設定の合理性
- RSSソース設定の品質・多様性
- ブランド戦略設定の一貫性・実現性

### 4. データ駆動開発対応度
- YAML設定変更だけでの動作変更可能性
- 設定とコードの疎結合度
- 運用時の調整・最適化の容易性

## 🎯 分析・出力要求

### 実行手順
1. **構造スキャン**: data/全ディレクトリ・ファイルの完全把握
2. **制限チェック**: ファイル数・サイズ制限の遵守状況確認
3. **YAML解析**: 各設定ファイルの構文・構造・内容分析
4. **適合性評価**: REQUIREMENTS.mdとの整合性・Claude Code SDK適合度評価
5. **品質評価**: データ品質・設定妥当性・運用適性の評価

### 出力形式
**📁 出力先**: `tasks/20250723_013109/reports/REPORT-003-data-yaml-config-validation.md`

**レポート構成**:
```markdown
# data/ディレクトリ構造とYAML設定完全性検証報告書

## 📊 全体構造サマリー
- data/全体の構造適合度
- ファイル数・サイズ制限遵守状況
- 階層型データ管理の実装度

## ⚙️ config/ディレクトリ分析
### autonomous-config.yaml
- 存在状況: [✅/❌]
- 構文正確性: [A-E評価]
- 必須設定充足度: [A-E評価]
- 内容品質・妥当性分析

### posting-times.yaml
- 存在状況・構文・内容評価
- 最適投稿時間設定の妥当性

### rss-sources.yaml  
- RSS設定の完全性・多様性
- 動的クエリ対応状況
- フィード品質評価

### brand-strategy.yaml
- ブランド戦略設定の一貫性
- 成長段階別設定の論理性

## 🔥 current/ディレクトリ分析（ホットデータ層）
- ファイル数: X/20（制限内・制限超過）
- 総サイズ: XMB/1MB（制限内・制限超過）
- 必須ファイル存在状況
- データ鮮度・品質評価

## 🧠 learning/ディレクトリ分析（ウォームデータ層）
- 必須ファイル（post-insights.yaml, engagement-patterns.yaml）存在状況
- 分析結果の構造化度・活用可能性
- Claude Code SDK適合度

## 📚 archives/ディレクトリ分析（コールドデータ層）
- 月別ディレクトリ構造の正確性
- データアーカイブの完全性
- 容量管理状況

## 🎯 Claude Code SDK適合性評価
- 自律的意思決定支援度: [A-E評価]
- 動的戦略切替対応度: [A-E評価]
- データ駆動開発適合度: [A-E評価]

## 🚨 重要な問題・制限違反
- ファイル数・サイズ制限違反
- 必須設定の不足・不正
- データ品質・構造の問題

## 📋 優先改善提案
- 制限違反の解決策
- 設定品質向上提案
- データ構造最適化提案

## 🔧 設定ファイル詳細分析
- 各YAMLファイルの構文詳細
- 推奨設定値・改善案
- 運用時調整ポイント
```

## 🔒 制約・注意事項

### データ保護
- data/配下のファイルは読み取りのみ、変更・削除厳禁
- 個人情報・機密情報が含まれる可能性を考慮
- 設定値の具体的内容は適切に要約

### MVP制約遵守  
- 現状の設定品質分析に専念
- 新機能・拡張提案は最小限
- RSS Collector中心構成を重視

### 出力管理
- ✅ **許可**: `tasks/20250723_013109/reports/REPORT-003-data-yaml-config-validation.md`
- 🚫 **禁止**: data/ディレクトリへの変更・追加
- 🚫 **禁止**: ルートディレクトリへの直接出力

## 🎯 成功基準
- data/ディレクトリ全体の完全性把握
- YAML設定の品質・適合性客観評価
- Claude Code SDK駆動システムに必要な設定充足度確認
- 制限違反・品質問題の具体的特定
- 運用改善に直結する実用的提案

この指示書に従い、data/ディレクトリとYAML設定の完全性を詳細に検証し、高品質な検証レポートを作成してください。