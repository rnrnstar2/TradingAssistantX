# TASK-004: MVP統合・検証

## 🎯 目的
前3タスクの統合とMVP要件への完全適合を検証・調整する

## 📋 依存関係
**直列実行必須**: TASK-001, TASK-002, TASK-003 完了後に実行

## 🚨 統合対象
- 簡素化されたコアシステム
- 簡素化されたデータ構造
- 簡素化されたサービス層

## ✅ MVP要件最終確認（REQUIREMENTS.md準拠）

### 最終的なシンプルフロー
```
[1] システム状況の確認（フォロワー数、前回投稿時刻）
[2] Claude Code SDKが次のアクションを決定（4つのうち1つ）
[3] 決定したアクションの実行
[4] 結果の記録と基本的な学習
[5] 次回実行への反映
```

### 4つのアクションのみ
1. **collect_data**: RSS等からデータ収集
2. **create_post**: 投稿作成と実行
3. **analyze**: アカウント状況分析（フォロワー数のみ）
4. **wait**: 戦略的待機

## 🔧 統合実装指示

### 1. 全体フロー統合確認

#### メインスクリプトの簡素化
```typescript
// src/scripts/main.ts または core-runner.ts
// MVPフローの実装確認：
// - シンプルな条件分岐
// - 4アクションのみの実行
// - 基本的な結果記録
```

### 2. 依存関係修正

#### インポート文の修正
- 削除されたファイルのインポート除去
- 簡素化された型定義への更新
- 不要な依存関係の削除

#### 型整合性確認
- 全ファイル間の型定義整合性
- MVPアクション型の一貫性
- 削除された型の参照エラー修正

### 3. MVP動作検証

#### 基本フロー動作確認
```bash
# 開発環境での動作確認
pnpm dev

# MVPアクション実行確認
# - システム状況確認 → アクション決定 → 実行 → 記録
```

#### データフロー確認
- RSS収集 → コンテンツ生成 → 投稿実行の流れ
- フォロワー数による判定の動作
- 基本的なエラーハンドリング

### 4. 最終簡素化調整

#### 残存する複雑機能の最終削除
- 見落とした複雑ロジックの特定・削除
- オーバーエンジニアリングの最終確認
- YAGNI原則の最終適用

### 5. ファイル整理・清掃

#### 不要ファイルの最終削除
```bash
# gitステータス確認
git status

# 削除されたファイルのコミット
git add -A
```

## 🚫 MVP制約最終確認

### 実装禁止機能の最終チェック
- [ ] 詳細なエンゲージメント分析機能が残っていない
- [ ] 複雑な学習・最適化機能が残っていない
- [ ] 将来拡張を想定した過剰設計が残っていない
- [ ] 統計・分析機能が含まれていない

### シンプルさの最終確認
- [ ] 基本的なファイル保存のみになっている
- [ ] 手動でのデータ整理で十分な構成になっている
- [ ] 複雑な階層移動が実装されていない

## 📁 出力制約
- **統合修正**: 必要に応じて複数ファイル修正
- **最終検証**: `pnpm dev` での動作確認
- **出力禁止**: ルートディレクトリへの新規ファイル作成

## 🎯 完了条件
1. 全4つのMVPアクションが正常動作
2. シンプルな3層構成の完全実現
3. TypeScript strict モード完全通過
4. `pnpm dev` での基本フロー動作確認
5. 複雑機能の完全排除確認

## 📋 最終報告書
実装完了後、以下を作成：
`tasks/20250723_194954/reports/REPORT-004-mvp-integration-validation.md`

**報告内容**:
- MVP統合状況の詳細
- 最終動作確認結果
- 削除した複雑機能の総まとめ
- MVPフロー実行結果
- 次期改善推奨事項（必要最小限のみ）

## 📊 MVP成功指標
- **継続投稿**: システムが基本フローを完遂
- **シンプルさ**: 複雑機能の完全排除
- **安定性**: エラーなしでの基本動作
- **要件適合**: REQUIREMENTS.md完全準拠